<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Islam | WEEBOKAGE</title>
    <link rel="stylesheet" href="style.css?v=5.0">
    <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
    <style>
        .islam-body { background: #fdfcf0 !important; color: #1a2f23 !important; background-image: none !important; }
        .islam-card { background: white !important; border: 2px solid #d4af37 !important; color: #1a2f23 !important; padding: 40px !important; }
        .arabic { font-family: 'Amiri', serif; font-size: 2rem; text-align: right; direction: rtl; color: #064e3b; }
    </style>
</head>
<body class="islam-body">
    <nav style="background:#064e3b; border-bottom:4px solid #d4af37;"><div class="links">
        <a href="index.html" style="color:white">Home</a>
        <a href="islam.html" style="color:white">Islam</a>
        <a href="credits.html" style="color:white">Credits</a>
    </div></nav>
    <div class="container">
        <h1 style="text-align:center; color:#064e3b; font-family:'Amiri'; font-size:3rem; margin:30px 0;">بِسْمِ اللهِ الرَّحْمٰنِ الرَّحِيْمِ</h1>
        <div class="card islam-card">
            <h2 style="color:#064e3b !important; border-bottom:1px solid #d4af37; padding-bottom:10px;">Daily Hadith</h2>
            <div id="hadith-box">Loading...</div>
            <button class="btn" onclick="fetchHadith()" style="background:#064e3b; color:white; margin-top:20px;">RANDOMIZE</button>
        </div>
        <div class="card islam-card">
            <h2 style="color:#064e3b !important; border-bottom:1px solid #d4af37; padding-bottom:10px;">Prayer Times</h2>
            <div id="prayer-list">Enable location...</div>
        </div>
    </div>
    <script>
        const API_KEY = "$2y$10$bh8gWRHGMPAOaerOv4kXpOQLdNdrE1DR7lBNK9oL7OuE20QHSIM6";
        async function fetchHadith() {
            const res = await fetch(`https://hadithapi.com/api/hadiths?apiKey=${API_KEY}&book=sahih-bukhari&paginate=10&page=${Math.floor(Math.random()*100)}`);
            const json = await res.json(); const h = json.hadiths.data[0];
            document.getElementById('hadith-box').innerHTML = `<p class="arabic">${h.hadithArabic}</p><hr style="margin:20px 0;"><p>${h.hadithEnglish.replace(/[\u0600-\u06FF]+/g, "")}</p><br><small>No. ${h.hadithNumber}</small>`;
        }
        function loadPrayers() {
            navigator.geolocation.getCurrentPosition(async (pos) => {
                const res = await fetch(`https://api.aladhan.com/v1/timings?latitude=${pos.coords.latitude}&longitude=${pos.coords.longitude}&method=3`);
                const data = await res.json(); const t = data.data.timings;
                const p = ["Fajr", "Dhuhr", "Asr", "Maghrib", "Isha"];
                document.getElementById('prayer-list').innerHTML = p.map(n => `<div style="display:flex; justify-content:space-between; padding:10px 0; border-bottom:1px solid #eee;"><strong>${n}</strong><span>${t[n]}</span></div>`).join('');
            });
        }
        fetchHadith(); loadPrayers();
    </script>
</body>
</html>
