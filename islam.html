<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Islam | WEEBOKAGE</title>
    <link rel="stylesheet" href="style.css?v=1.8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        /* Specific Islamic Theme Overrides */
        .islam-body {
            background: #f4f1ea !important; /* Cream/Paper background */
            color: #2c3e50 !important;
            background-image: none !important;
        }

        .islam-nav {
            background: #064e3b !important; /* Deep Emerald Green */
            border-bottom: 3px solid #d4af37 !important; /* Gold */
        }

        .islam-nav a { color: #fff !important; }
        .islam-nav a:hover { color: #d4af37 !important; }

        .islam-card {
            background: white !important;
            border: 1px solid #d4af37 !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05) !important;
            color: #2c3e50 !important;
        }

        .islam-card h2 { color: #064e3b !important; border-bottom: 2px solid #d4af37; padding-bottom: 10px; }

        .arabic-text {
            font-family: 'Amiri', serif;
            font-size: 1.8rem;
            text-align: right;
            direction: rtl;
            margin-bottom: 15px;
            color: #064e3b;
        }

        .prayer-time-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px inset #eee;
        }

        .prayer-time-row span:last-child {
            font-weight: bold;
            color: #064e3b;
        }

        .gold-btn {
            background: #d4af37 !important;
            color: white !important;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Amiri&family=Poppins:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body class="islam-body">

    <nav class="islam-nav">
        <div class="links">
            <a href="index.html">Home</a>
            <a href="islam.html">Islam</a>
            <a href="credits.html">Credits</a>
            <a href="login.html">Admin</a>
        </div>
    </nav>

    <div class="container">
        <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="color: #064e3b; font-size: 2.5rem; font-family: 'Amiri', serif;">بِسْمِ ٱللَّهِ ٱلرَّحْمَٰنِ ٱلرَّحِيمِ</h1>
            <p style="font-style: italic; color: #666;">"In the name of Allah, the Most Gracious, the Most Merciful"</p>
        </div>

        <!-- DAILY HADITH BOX -->
        <div class="card islam-card">
            <h2><i class="fas fa-book-open"></i> Daily Hadith</h2>
            <div id="hadith-container">
                <p class="arabic-text" id="hadith-arabic">Loading...</p>
                <p id="hadith-english" style="line-height: 1.6; color: #444; border-top: 1px solid #eee; pt-15">Fetching translation...</p>
                <p id="hadith-source" style="font-size: 0.8rem; margin-top: 15px; color: #d4af37; font-weight: bold;"></p>
            </div>
        </div>

        <!-- PRAYER TIMES -->
        <div class="card islam-card">
            <h2><i class="fas fa-clock"></i> Prayer Times (Mawaqit)</h2>
            <p id="location-text" style="font-size: 0.9rem; margin-bottom: 15px; opacity: 0.7;">Detecting location...</p>
            <div id="prayer-times">
                <!-- Times will load here -->
            </div>
        </div>
    </div>

    <script>
        // --- 1. HADITH LOGIC ---
        // Using a reliable curated set for better performance
        async function fetchHadith() {
            try {
                // Fetching from a public Hadith API
                const response = await fetch('https://random-hadith-generator.vercel.app/bukhari/');
                const data = await response.json();
                
                document.getElementById('hadith-arabic').innerText = data.data.hadith_arabic;
                document.getElementById('hadith-english').innerText = data.data.hadith_english;
                document.getElementById('hadith-source').innerText = "Source: " + data.data.header;
            } catch (error) {
                document.getElementById('hadith-arabic').innerText = "لَا إِلٰهَ إِلَّا الله مُحَمَّدٌ رَسُولُ الله";
                document.getElementById('hadith-english').innerText = "There is no god but Allah, and Muhammad is the messenger of Allah.";
            }
        }

        // --- 2. MAWAQIT (PRAYER TIMES) LOGIC ---
        function getPrayerTimes() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(async (position) => {
                    const lat = position.coords.latitude;
                    const lon = position.coords.longitude;
                    
                    try {
                        const response = await fetch(`https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${lon}&method=2`);
                        const data = await response.json();
                        const timings = data.data.timings;
                        
                        document.getElementById('location-text').innerText = "Based on your current coordinates";
                        
                        const prayers = ["Fajr", "Dhuhr", "Asr", "Maghrib", "Isha"];
                        let html = "";
                        prayers.forEach(p => {
                            html += `<div class="prayer-time-row"><span>${p}</span><span>${timings[p]}</span></div>`;
                        });
                        document.getElementById('prayer-times').innerHTML = html;
                    } catch (e) {
                        document.getElementById('prayer-times').innerText = "Error loading prayer times.";
                    }
                }, () => {
                    document.getElementById('location-text').innerText = "Location access denied. Showing default times.";
                });
            }
        }

        fetchHadith();
        getPrayerTimes();
    </script>
</body>
</html>
